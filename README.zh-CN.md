# Pilbum

一个现代化的自托管个人相册系统，专为摄影爱好者打造。

[English](./README.md)

## 项目介绍

Pilbum 是一个轻量级、可自托管的照片管理和展示平台。它让你能够完全掌控自己的照片数据，无需依赖第三方云服务，同时提供专业级的照片展示体验。

### 解决什么问题

- **数据隐私**：照片存储在自己的服务器上，无需担心隐私泄露或服务商跑路
- **专业展示**：不同于社交平台的压缩和裁剪，保留照片原始质量和完整 EXIF 信息
- **Live Photo 支持**：完整支持 iOS Live Photo 的上传和播放，这是大多数相册服务不具备的功能
- **简洁体验**：专注于照片本身，没有广告、社交功能或复杂的界面干扰

### 适用场景

- 个人摄影作品集展示
- 家庭照片私有化存储
- 摄影师向客户交付作品
- 旅行/生活照片归档

### 面向人群

- 注重隐私、希望自己掌控数据的用户
- 需要展示作品集的摄影爱好者
- 有基本服务器运维能力的技术用户
- 想要搭建家庭私有云相册的用户

## 功能特性

- **Live Photo 支持** - 自动配对 iOS Live Photo，悬停播放动态效果
- **EXIF 信息展示** - 相机型号、镜头、光圈、快门、ISO、GPS 位置
- **瀑布流画廊** - 响应式布局，无限滚动加载
- **深色模式** - 跟随系统自动切换主题
- **多语言支持** - 基于 next-intl 的国际化
- **管理后台** - 照片上传、批量管理、用户权限控制

## 技术栈

| 类别 | 技术 |
|------|------|
| 框架 | Next.js 15 (App Router) |
| 数据库 | PostgreSQL / PGlite (本地模式) |
| ORM | Drizzle |
| 样式 | Tailwind CSS |
| 认证 | Iron Session |
| 图片处理 | Sharp |
| 地图 | Leaflet + OpenStreetMap |

## 快速开始

1. 克隆仓库
2. 复制 `.env.example` 为 `.env` 并配置
3. 安装依赖：`npm install`
4. 初始化数据库：`npm run db:migrate`
5. 启动开发服务器：`npm run dev`
6. 访问 `http://localhost:3000/admin` 进行管理

## 环境变量

详见 `.env.example` 文件，支持以下配置：

- 数据库：本地 PGlite 或远程 PostgreSQL
- 存储：本地文件系统或 Azure Blob Storage
- 认证：Session 密钥配置
- 国际化：默认语言设置

## 部署

支持部署到任何支持 Node.js 的平台：

- Vercel (推荐，需配合外部数据库)
- Docker 容器
- 传统 VPS / 云服务器

## License

MIT
